# 他のプログラムのMakefileにincludeして使うためのtjsの設定

TJS3_DIR=$(TOP_DIR)/src/core/tjs3

$(TJS3_LIB):
	(cd $(TJS3_DIR) && make)

TJS3_CXXFLAGS := $(shell $(TJS3_DIR)/bin/tjs3-config --cxxflags)
TJS3_CPPFLAGS := $(shell $(TJS3_DIR)/bin/tjs3-config --cppflags)
TJS3_LIBS     := $(shell $(TJS3_DIR)/bin/tjs3-config --libs)
TJS3_LINKDEPS := $(shell $(TJS3_DIR)/bin/tjs3-config --linkdeps)

ifneq ($(filter WX,$(DEP_LIBS)),WX)
 DEP_LIBS += WX
endif
CXXFLAGS += $(TJS3_CXXFLAGS)
CPPFLAGS += $(TJS3_CPPFLAGS)
LIBS     += $(TJS3_LIBS)
BIN_DEPS += $(TJS3_LINKDEPS)

$(TJS3_LIB)/Makefile_for_user: $(TJS3_LIB)

